(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.regex=t.ref=t.len=void 0,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(230))&&n.__esModule?n:{default:n};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===d(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=l;t.len=function(e){return Array.isArray(e)?e.length:"object"===d(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,r){return"function"==typeof e?e.call(t,r):r[e]};t.regex=function(e,t){return(0,o.default)({type:e},(function(e){return!l(e)||t.test(e)}))}},227:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return f.default}}),t.helpers=void 0,Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return w.default}});var o=I(r(229)),d=I(r(232)),l=I(r(233)),c=I(r(234)),f=I(r(235)),m=I(r(236)),v=I(r(237)),h=I(r(238)),y=I(r(239)),_=I(r(240)),P=I(r(241)),$=I(r(242)),x=I(r(243)),w=I(r(244)),j=I(r(245)),O=I(r(246)),M=I(r(247)),C=I(r(248)),S=I(r(249)),A=I(r(250)),F=I(r(251)),k=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var o={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var desc=d?Object.getOwnPropertyDescriptor(e,l):null;desc&&(desc.get||desc.set)?Object.defineProperty(o,l,desc):o[l]=e[l]}o.default=e,r&&r.set(e,o);return o}(r(226));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function I(e){return e&&e.__esModule?e:{default:e}}t.helpers=k},229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("alpha",/^[a-zA-Z]*$/);t.default=n},230:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="web"===e.env.BUILD?r(231).withParams:r(146).withParams;t.default=n}).call(this,r(97))},231:function(e,t,r){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var n="undefined"!=typeof window?window:void 0!==e?e:{},o=n.vuelidate?n.vuelidate.withParams:function(e,t){return"object"===r(e)&&void 0!==t?t:e((function(){}))};t.withParams=o}).call(this,r(43))},232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=n},233:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("numeric",/^[0-9]*$/);t.default=n},234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},(function(r){return!(0,n.req)(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r}))}},235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i);t.default=n},236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226),o=(0,n.withParams)({type:"ipAddress"},(function(e){if(!(0,n.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(d)}));t.default=o;var d=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},(function(t){if(!(0,n.req)(t))return!0;if("string"!=typeof t)return!1;var r="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(o)}))};var o=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},238:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"maxLength",max:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e}))}},239:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"minLength",min:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e}))}},240:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226),o=(0,n.withParams)({type:"required"},(function(e){return"string"==typeof e?(0,n.req)(e.trim()):(0,n.req)(e)}));t.default=o},241:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},(function(t,r){return!(0,n.ref)(e,this,r)||(0,n.req)(t)}))}},242:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},(function(t,r){return!!(0,n.ref)(e,this,r)||(0,n.req)(t)}))}},243:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"sameAs",eq:e},(function(t,r){return t===(0,n.ref)(e,this,r)}))}},244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("url",/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=n},245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.withParams)({type:"or"},(function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.length>0&&t.reduce((function(t,r){return t||r.apply(e,n)}),!1)}))}},246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.withParams)({type:"and"},(function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.length>0&&t.reduce((function(t,r){return t&&r.apply(e,n)}),!0)}))}},247:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"not"},(function(t,r){return!(0,n.req)(t)||!e.call(this,t,r)}))}},248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"minValue",min:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))}},249:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(226);t.default=function(e){return(0,n.withParams)({type:"maxValue",max:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))}},250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=n},251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(226).regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=n},252:function(e,t,r){"use strict";var n=r(5),o=r(30),d=r(31),l=r(145),c=r(79),f=r(13),m=r(59).f,v=r(60).f,h=r(14).f,y=r(253).trim,_="Number",P=n.Number,$=P,x=P.prototype,w=d(r(96)(x))==_,j="trim"in String.prototype,O=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var r,n,o,d=(t=j?t.trim():y(t,3)).charCodeAt(0);if(43===d||45===d){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===d){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var code,l=t.slice(2),i=0,f=l.length;i<f;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,n)}}return+t};if(!P(" 0o1")||!P("0b1")||P("+0x1")){P=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof P&&(w?f((function(){x.valueOf.call(r)})):d(r)!=_)?l(new $(O(t)),r,P):O(t)};for(var M,C=r(11)?m($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;C.length>S;S++)o($,M=C[S])&&!o(P,M)&&h(P,M,v($,M));P.prototype=x,x.constructor=P,r(19)(n,_,P)}},253:function(e,t,r){var n=r(4),o=r(44),d=r(13),l=r(254),c="["+l+"]",f=RegExp("^"+c+c+"*"),m=RegExp(c+c+"*$"),v=function(e,t,r){var o={},c=d((function(){return!!l[e]()||"​"!="​"[e]()})),f=o[e]=c?t(h):l[e];r&&(o[r]=f),n(n.P+n.F*c,"String",o)},h=v.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(m,"")),e};e.exports=v},254:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},417:function(e,t,r){var content=r(484);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(29).default)("3a09bbbd",content,!0,{sourceMap:!1})},418:function(e,t,r){var content=r(486);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(29).default)("3d750b62",content,!0,{sourceMap:!1})},419:function(e,t,r){var content=r(488);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(29).default)("7524cf54",content,!0,{sourceMap:!1})},420:function(e,t,r){var content=r(490);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(29).default)("7f528a2f",content,!0,{sourceMap:!1})},483:function(e,t,r){"use strict";r(417)},484:function(e,t,r){var n=r(28)(!1);n.push([e.i,".app-navbar[data-v-ec2209a0]{padding:2%;box-shadow:0 2px 0 0 #cdcdcd}.app-navbar-brand[data-v-ec2209a0]{margin-left:7%}.app-navbar-brand-icon[data-v-ec2209a0]{margin-right:2px}.knowledge-areas-title[data-v-ec2209a0]{font-size:1.5em}",""]),e.exports=n},485:function(e,t,r){"use strict";r(418)},486:function(e,t,r){var n=r(28)(!1);n.push([e.i,".field[data-v-86f25696]{margin-bottom:0}.error[data-v-86f25696],.errors[data-v-86f25696]{margin-bottom:.75rem}.error[data-v-86f25696]{font-size:.9rem;color:red}",""]),e.exports=n},487:function(e,t,r){"use strict";r(419)},488:function(e,t,r){var n=r(28)(!1);n.push([e.i,".field[data-v-78bcefd6]{margin-bottom:0}.error[data-v-78bcefd6],.errors[data-v-78bcefd6]{margin-bottom:.75rem}.error[data-v-78bcefd6]{font-size:.9rem;color:red}",""]),e.exports=n},489:function(e,t,r){"use strict";r(420)},490:function(e,t,r){var n=r(28)(!1);n.push([e.i,".app-table[data-v-821daf56]{margin:5%}",""]),e.exports=n},515:function(e,t,r){"use strict";r.r(t);var n={components:{},data:function(){return{}},methods:{addClicked:function(){this.$emit("addUserClicked")}}},o=(r(483),r(17)),d=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{staticClass:"\n\n  app-navbar",attrs:{shadow:!0},scopedSlots:e._u([{key:"brand",fn:function(){return[r("b-navbar-item",{staticClass:"app-navbar-brand"},[r("h1",{staticClass:"knowledge-areas-title"},[e._v("Usuários")])])]},proxy:!0},{key:"end",fn:function(){return[r("b-navbar-item",{attrs:{tag:"div"}},[r("div",{staticClass:"buttons"},[r("a",{staticClass:"button is-primary",on:{click:e.addClicked}},[e._v("\n          Adicionar novo\n        ")])])])]},proxy:!0}])})}),[],!1,null,"ec2209a0",null).exports,l=(r(147),r(148),{props:{getUserId:{type:Function,required:!0}},data:function(){return{activeTab:0,filterText:"",usersData:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5}},computed:{filter:function(){var e=new RegExp(this.filterText,"i"),data=[];for(var i in this.usersData)this.usersData[i].username.match(e)&&data.push(this.usersData[i]);return data}},created:function(){this.getUsersData()},mounted:function(){var e=this;this.$root.$on("user_added",(function(){e.getUsersData()})),this.$root.$on("user_edited",(function(){e.getUsersData()}))},methods:{getUsersData:function(){var e=this;this.$axios.get("/api/users").then((function(t){e.usersData=t.data})).catch((function(t){return e.usersData=t.data}))},editUser:function(e){this.$props.getUserId(e),this.$emit("editClicked")},deleteUser:function(e){var t=this;this.$axios.delete("/api/users/".concat(e)).then((function(){t.$buefy.snackbar.open("Usuário removido!"),t.getUsersData()})).catch((function(e){console.log(e)}))}}}),c=Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:"Pesquisa por nome"}},[r("b-input",{attrs:{placeholder:"Pesquisar..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1)]),e._v(" "),r("div",{staticClass:"column"},[r("b-table",{attrs:{data:e.filter,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[r("b-table-column",{attrs:{field:"username",label:"Usuário"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.username)+"\n      ")]}}])}),e._v(" "),r("b-table-column",{attrs:{field:"active",label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{class:["tag",{"is-danger":1!=t.row.active},{"is-success":1==t.row.active}]},[e._v("\n          "+e._s(t.row.active?"ativo":"inativo")+"\n        ")])]}}])})],1)],1)])}),[],!1,null,"5c3de124",null).exports,f=r(227),m=f.required,v=f.minLength,h={data:function(){return{formFields:{username:"",password:""},isPostSuccess:!1,formHasErrors:!1}},validations:{formFields:{username:{required:m,minLength:v(5)},password:{required:m,minLength:v(8)}}},methods:{submitForm:function(){!1===this.$v.formFields.$invalid?(this.addUser(),this.uiState="form submitted",this.formHasErrors=!1):this.formHasErrors=!0},snackbar:function(e){e?this.$buefy.snackbar.open("Usuário adicionado com sucesso!"):this.$buefy.snackbar.open("Adição de usuário falhou.")},sendMessage:function(){this.$root.$emit("user_added")},addUser:function(){var e=this;this.$axios.post("/api/users",{username:this.formFields.username,password:this.formFields.password,active:1}).then((function(t){e.isPostSuccess=!0,e.snackbar(!0),e.sendMessage(),e.$emit("close")})).catch((function(t){e.isPostSuccess=!1,console.log(t),e.snackbar(!1)}))}}},y=(r(485),Object(o.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{attrs:{action:""}},[r("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[r("header",{staticClass:"modal-card-head"},[r("p",{staticClass:"modal-card-title"},[e._v("Adicionar usuário")]),e._v(" "),r("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),e._v(" "),r("section",{staticClass:"modal-card-body"},[r("b-field",{staticClass:"username-input",attrs:{label:"Usuário"}},[r("b-input",{attrs:{type:"text"},model:{value:e.$v.formFields.username.$model,callback:function(t){e.$set(e.$v.formFields.username,"$model",t)},expression:"$v.formFields.username.$model"}})],1),e._v(" "),e.formHasErrors?r("p",{staticClass:"errors"},[e.$v.formFields.username.required?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo obrigatório\n        ")]),e._v(" "),e.$v.formFields.username.minLength?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo 'usuário' deve ter no minimo\n          "+e._s(e.$v.formFields.username.$params.minLength.min)+" letras.\n        ")])]):e._e(),e._v(" "),r("b-field",{attrs:{label:"Senha"}},[r("b-input",{attrs:{type:"password","password-reveal":""},model:{value:e.$v.formFields.password.$model,callback:function(t){e.$set(e.$v.formFields.password,"$model",t)},expression:"$v.formFields.password.$model"}})],1),e._v(" "),e.formHasErrors?r("p",{staticClass:"errors"},[e.$v.formFields.password.required?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo obrigatório\n        ")]),e._v(" "),e.$v.formFields.password.minLength?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo 'Senha' deve ter no minimo\n          "+e._s(e.$v.formFields.password.$params.minLength.min)+" letras.\n        ")])]):e._e()],1),e._v(" "),r("footer",{staticClass:"modal-card-foot"},[r("b-button",{attrs:{label:"Fechar janela"},on:{click:function(t){return e.$emit("close")}}}),e._v(" "),r("b-button",{attrs:{label:"Adicionar",type:"is-primary"},on:{click:e.submitForm}})],1)])])}),[],!1,null,"86f25696",null).exports),_=(r(252),r(227)),P=_.required,$=_.minLength,x={props:{id:{type:Number,required:!0}},data:function(){return{formFields:{username:"",password:""},isPostSuccess:!1,formHasErrors:!1,isPasswordCorrect:!1}},validations:{formFields:{username:{required:P,minLength:$(5)},password:{minLength:$(8)}}},beforeMount:function(){var e=this;this.$axios.get("/api/users/".concat(this.$props.id)).then((function(t){e.formFields.username=t.data.username})).catch((function(e){return console.log(e)}))},methods:{submitForm:function(){console.log("inside submit"),!1===this.$v.formFields.$invalid?(this.editUser(),this.formHasErrors=!1):this.formHasErrors=!0},snackbar:function(e){e?this.$buefy.snackbar.open("Usuário atualizado com sucesso!"):this.$buefy.snackbar.open("Edição de usuário falhou.")},sendMessage:function(){this.$root.$emit("user_edited")},editUser:function(){var e=this;this.$axios.put("/api/users/".concat(this.$props.id),{username:this.formFields.username,password:this.formFields.password,active:1}).then((function(t){console.log("Data edited!"),e.isPostSuccess=!0,e.snackbar(!0),e.sendMessage(),e.$emit("close")})).catch((function(t){e.isPostSuccess=!1,console.log(t),e.snackbar(!1)}))},isPasswordValid:function(e){var t=this,r=!1;return this.$axios.get("/api/users/".concat(this.$props.id)).then((function(e){console.log(e.data.password_digest),t.formFields.oldPassword===e.data.password&&(r=!0)})).catch((function(e){return console.log(e)})),r}}},w=(r(487),{layout:"adminLayout",components:{"users-header":d,"users-table":c,"users-add":y,"users-update":Object(o.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{attrs:{action:""}},[r("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[r("header",{staticClass:"modal-card-head"},[r("p",{staticClass:"modal-card-title"},[e._v("Editar usuário")]),e._v(" "),r("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),e._v(" "),r("section",{staticClass:"modal-card-body"},[r("b-field",{staticClass:"username-input",attrs:{label:"Usuário"}},[r("b-input",{attrs:{type:"text"},model:{value:e.$v.formFields.username.$model,callback:function(t){e.$set(e.$v.formFields.username,"$model",t)},expression:"$v.formFields.username.$model"}})],1),e._v(" "),e.formHasErrors?r("p",{staticClass:"errors"},[e.$v.formFields.username.required?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo obrigatório\n        ")]),e._v(" "),e.$v.formFields.username.minLength?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo 'usuário' deve ter no minimo\n          "+e._s(e.$v.formFields.username.$params.minLength.min)+" letras.\n        ")])]):e._e(),e._v(" "),r("b-field",{attrs:{label:"Digite sua nova senha (opcional)"}},[r("b-input",{attrs:{type:"password","password-reveal":""},model:{value:e.$v.formFields.password.$model,callback:function(t){e.$set(e.$v.formFields.password,"$model",t)},expression:"$v.formFields.password.$model"}})],1),e._v(" "),e.formHasErrors?r("p",{staticClass:"errors"},[e.$v.formFields.password.required?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo obrigatório\n        ")]),e._v(" "),e.$v.formFields.password.minLength?e._e():r("span",{staticClass:"error"},[e._v("\n          Campo 'Senha' deve ter no minimo\n          "+e._s(e.$v.formFields.password.$params.minLength.min)+" letras.\n        ")])]):e._e()],1),e._v(" "),r("footer",{staticClass:"modal-card-foot"},[r("b-button",{attrs:{label:"Fechar janela"},on:{click:function(t){return e.$emit("close")}}}),e._v(" "),r("b-button",{attrs:{label:"Atualizar",type:"is-primary"},on:{click:e.submitForm}})],1)])])}),[],!1,null,"78bcefd6",null).exports},data:function(){return{isAddModalActive:!1,isEditModalActive:!1,userEditedId:1}},methods:{showAddModal:function(){this.isAddModalActive=!0},showEditModal:function(){this.isEditModalActive=!0},getUserId:function(e){this.userEditedId=e}}}),j=(r(489),Object(o.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("users-header",{on:{addUserClicked:e.showAddModal}}),e._v(" "),r("b-modal",{scopedSlots:e._u([{key:"default",fn:function(e){return[r("users-add",{on:{close:e.close}})]}}]),model:{value:e.isAddModalActive,callback:function(t){e.isAddModalActive=t},expression:"isAddModalActive"}}),e._v(" "),r("b-modal",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("users-update",{attrs:{id:e.userEditedId},on:{close:t.close}})]}}]),model:{value:e.isEditModalActive,callback:function(t){e.isEditModalActive=t},expression:"isEditModalActive"}}),e._v(" "),r("users-table",{staticClass:"app-table",attrs:{getUserId:e.getUserId},on:{editClicked:e.showEditModal}})],1)}),[],!1,null,"821daf56",null));t.default=j.exports}}]);