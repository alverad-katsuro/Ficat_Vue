(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{403:function(e,t,n){var content=n(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("60a88ed3",content,!0,{sourceMap:!1})},448:function(e,t,n){"use strict";n(403)},449:function(e,t,n){var r=n(28)(!1);r.push([e.i,".vcenter[data-v-e4eb9bae]{display:flex;align-items:center}.wrapper[data-v-e4eb9bae]{flex:1 0 auto;margin:auto}.input-float[data-v-e4eb9bae]{margin:auto;height:100%;display:flex;flex-direction:column;justify-content:space-evenly}.with-margin[data-v-e4eb9bae]{margin:auto .5em}.flex-submit[data-v-e4eb9bae]{display:flex;align-items:center;justify-content:space-between;margin:.5em}",""]),e.exports=r},520:function(e,t,n){"use strict";n.r(t);var r=n(3),o=(n(45),n(24),n(25),n(227)),l=n(228),c=n(255),m=n(256),d={name:"Talk",components:{Card:l.a,InputValidation:c.a,WithTooltip:m.a},mixins:[{methods:{handle:function(e){var t=e.response;this.$buefy.toast.open({duration:1e3,message:t.data.code,type:"is-danger"})}}}],data:function(){return{name:"",email:"",fone:"",msg:"",touchedCaptcha:!1,captchaHasError:!1,captchaHasExpired:!1,loading:!1}},computed:{disabled:function(){return this.$v.$invalid||!this.touchedCaptcha||this.captchaHasError||this.captchaHasExpired}},methods:{onSubmit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,l,c,m,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=12;break}n=Object.keys(e.$options.validations),o=0,l=n;case 4:if(!(o<l.length)){t.next=12;break}if(c=l[o],!e.$v[c].$error){t.next=9;break}return e.$refs[c].focus(),t.abrupt("break",12);case 9:o++,t.next=4;break;case 12:return e.loading=!0,t.next=15,e.$recaptcha.getResponse();case 15:return m=t.sent,t.next=18,e.$axios.get("/api/captcha",{params:{token:m}});case 18:if(t.sent){t.next=21;break}return t.abrupt("return");case 21:(d=new FormData).append("name",e.name),d.append("email",e.email),d.append("fone",e.fone),d.append("msg",e.msg),e.$axios.post("/api/send",d,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.toast(),t.next=3,e.resetState();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e.handle);case 27:case"end":return t.stop()}}),t)})))()},toast:function(){this.$buefy.toast.open("Mensagem enviada com sucesso")},resetState:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.assign(e.$data,{name:"",email:"",fone:"",msg:"",touchedCaptcha:!1,captchaHasError:!1,captchaHasExpired:!1,loading:!1}),e.$v.$reset(),t.next=4,e.$recaptcha.reset();case 4:case"end":return t.stop()}}),t)})))()},onSomeError:function(e){var data="exp"===e?"captchaHasExpired":"captchaHasError";this.$set(this.$data,data,!0)},onSuccess:function(){this.touchedCaptcha=!0,this.captchaHasError=!1,this.captchaHasExpired=!1}},validations:{name:{required:o.required,minLength:Object(o.minLength)(7)},email:{required:o.required,email:o.email,minLength:Object(o.minLength)(7)},fone:{required:o.required,pattern:function(e){return/^\+?[0-9]+$/.test(e)},minLength:Object(o.minLength)(3)},msg:{required:o.required,minLength:Object(o.minLength)(20),maxLength:Object(o.maxLength)(240)}}},f=(n(448),n(17)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section vcenter"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-10"},[n("Card",{attrs:{title:e.$tr("layout.talkToUs")}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{staticClass:"input-float"},[n("input-validation",{ref:"name",attrs:{validations:e.$options.validations.name,v:e.$v,label:e.$tr("layout.talkFormName"),"tooltip-label":e.$tr("layout.talkFormNameTooltip"),"field-name":"name",placeholder:"Exemplo = Gabriel Ribeiro"},scopedSlots:e._u([{key:"required",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(t){var n=t.min;return[e._v("\n                      "+e._s(e.$tr("layout.minLength",[n]))+"\n                    ")]}}]),model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}}),e._v(" "),n("input-validation",{ref:"email",attrs:{validations:e.$options.validations.email,v:e.$v,label:e.$tr("layout.talkFormEmail"),"tooltip-label":e.$tr("layout.talkFormEmailTooltip"),"field-name":"email",placeholder:"Exemplo = exemplename@gmail.com"},on:{blur:e.$v.email.$touch},scopedSlots:e._u([{key:"required",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(t){var n=t.min;return[e._v("\n                      "+e._s(e.$tr("layout.minLength",[n]))+"\n                    ")]}},{key:"email",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.invalidEmail"))+"\n                    ")]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email="string"==typeof t?t.trim():t},expression:"email"}}),e._v(" "),n("input-validation",{ref:"fone",attrs:{validations:e.$options.validations.fone,v:e.$v,label:e.$tr("layout.talkFormPhone"),"tooltip-label":e.$tr("layout.talkFormPhoneTooltip"),"field-name":"fone",placeholder:"Exemplo = (99)99999-9999"},scopedSlots:e._u([{key:"required",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(t){var n=t.min;return[e._v("\n                      "+e._s(e.$tr("layout.minLength",[n]))+"\n                    ")]}},{key:"pattern",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.numbersOnly"))+"\n                    ")]},proxy:!0},{key:"message",fn:function(){return[e._v("\n                      "+e._s(e.$tr("layout.internationalNumber"))+"\n                    ")]},proxy:!0}]),model:{value:e.$v.fone.$model,callback:function(t){e.$set(e.$v.fone,"$model",t)},expression:"$v.fone.$model"}})],1)]),e._v(" "),n("div",{staticClass:"column is-center is-half"},[n("input-validation",{ref:"msg",attrs:{validations:e.$options.validations.msg,v:e.$v,label:e.$tr("layout.talkFormMessage"),"tooltip-label":e.$tr("layout.talkFormMessageTooltip"),"field-name":"msg",type:"textarea"},scopedSlots:e._u([{key:"required",fn:function(){return[e._v("\n                    "+e._s(e.$tr("layout.required"))+"\n                  ")]},proxy:!0},{key:"minLength",fn:function(t){var n=t.min;return[e._v("\n                    "+e._s(e.$tr("layout.minLength",[n]))+"\n                  ")]}}]),model:{value:e.$v.msg.$model,callback:function(t){e.$set(e.$v.msg,"$model",t)},expression:"$v.msg.$model"}}),e._v(" "),n("div",{staticClass:"flex-submit"},[n("WithTooltip",{attrs:{text:e.$tr("layout.solveCaptcha")}},[n("div",{staticStyle:{margin:"auto"}},[n("recaptcha",{on:{success:e.onSuccess,error:function(t){return e.onSomeError("error")},expired:function(t){return e.onSomeError("exp")}}})],1)]),e._v(" "),n("WithTooltip",{attrs:{text:e.$tr("layout.submitBtnTooltip")}},[n("b-button",{staticClass:"is-success",attrs:{disabled:e.disabled,loading:e.loading,rounded:"","native-type":"submit","aria-label":"BotÃ£o Enviar"}},[e._v("\n                      "+e._s(e.$tr("layout.submitBtn"))+"\n                    ")])],1)],1)],1)])])])],1)])])])}),[],!1,null,"e4eb9bae",null);t.default=component.exports}}]);